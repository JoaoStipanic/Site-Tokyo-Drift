<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <script src="js/cadastro.js"></script>
    <title>Personagens</title>
</head>
<body>
    <div class="cabecalho">
        <img class="img-cabecalho" src="assets/imgs/cabecalho.jpg" alt="">
    </div>
    <header class="header">
        <p class="p-header"><a href="home.html">Home</a></p>
        <p class="p-header"><a href="personagens.html">Personagens</a></p>
        <p class="p-header"><a href="sobre.html">Sobre mim</a></p>
        <p class="p-header"><a href="quiz.html">Quiz</a></p>
        <p class="p-header"><a href="login.html" class="agora">Login</a></p>
    </header>

    <div class="conteudo-login">
        <div class="container-login">
            <h1 class="titulo-conteudo" style="margin-top: 0px;">Faça o seu <span style="color: #ed6b18;">Cadastro</span> aqui</h1>
            <div class="card-cadastro">
                <div class="div-login">
                    <p class="texto-container-login">Digite seu Nome</p>
                    <input oninput="analisarNome()" type="text" id="input_nome"><br>
                    <span class="span-mensagem" id="span_nome"></span>
                    <br><br>

                    <p class="texto-container-login">Digite seu Sobrenome</p>
                    <input oninput="analisarSobrenome()" type="text" id="input_sobrenome"><br>
                    <span class="span-mensagem" id="span_sobrenome"></span>
                    <br><br>

                    <p class="texto-container-login">Digite seu E-mail</p>
                    <input oninput="analisarEmail()" type="email" id="input_email"><br>
                    <span class="span-mensagem" id="span_email"></span>
                    <br>
                </div>
                <div class="div-login">
                    <p class="texto-container-login">Digite seu Telefone Celular</p>
                    <input oninput="analisarTelefone()" type="number" id="input_telefone" placeholder="Ex: 00912345678"><br>
                    <span class="span-mensagem" id="span_telefone"></span>
                    <br><br>

                    <div>
                        <p class="texto-container-login">Digite sua Senha</p> <button class="button-info" onclick="info()">?</button>
                    </div>
                    <input oninput="analisarSenha()" type="text" id="input_senha"><br>
                    <div class="div-info" id="div_info">
                        Deve conter mais de 8 dígitos, <br>
                        caractéres especiais e números
                    </div>
                    <br><br>

                    <p class="texto-container-login">Confirme sua Senha</p>
                    <input oninput="analisarSenhaConfirm()" type="text" id="input_senhaConfirm"><br>
                    <span class="span-mensagem" id="span_senhaConfirm"></span>
                    <br><br>

                    <button class="button">Fazer cadastro</button>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>Todos os direitos reservados ao João Vitor Stipanic Almeida</p>
    </footer>
</body>
</html>

<script>
    var listaNum = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9"];
var listaEsp = ["!", "@", "#", "$", "%", "&", "*", "."];
var nomeInvalido = false;
var sobrenomeInvalido = false;
var emailInvalido = false;
var telefoneInvalido = false;
var senhaInvalido = false;

function info() {
    if (div_info.style.display = 'none') {
        div_info.style.display = 'block';
        
    }
}

function analisarNome() {
    var nome = input_nome.value;

    if (nome == '') { // Verifica se o sobrenome não é vazio
        nomeInvalido = true;

    } else if (nome.length <= 1) { // Verifica se o nome tem tamanho suficiente
        nomeInvalido = true;

    } else {
        nomeInvalido = false;
    }
    
    for (var i = 0; i < listaNum.length; i++) { // Percorre toda a lista de números
        if (nome.includes(listaNum[i])) {
            nomeInvalido = true; // marca como inválido, mas não sai do loop
        }
    }

    if (nomeInvalido) { // Exibe o resultado apenas uma vez no final
        span_nome.innerHTML = "Nome Inválido";

    } else {
        span_nome.innerHTML = "";
    }
}

function analisarSobrenome() {
    var sobrenome = input_sobrenome.value;

    if (sobrenome == '') { // Verifica se o sobrenome não é vazio
        sobrenomeInvalido = true;

    } else if (sobrenome.length <= 1) { // Verifica se o sobrenome tem tamanho suficiente
        sobrenomeInvalido = true;

    } else {
        sobrenomeInvalido = false;
    }

    for (var i = 0; i < listaNum.length; i++) { // Percorre toda a lista de números
        if (sobrenome.includes(listaNum[i])) {
            sobrenomeInvalido = true; // marca como inválido, mas não sai do loop
        }
    }

    
    if (sobrenomeInvalido) { // Exibe o resultado apenas uma vez no final
        span_sobrenome.innerHTML = "Sobrenome Inválido";
    } else {
        span_sobrenome.innerHTML = "";
    }
}

function analisarEmail() {
    var email = input_email.value;

    if (email == '') {
        emailInvalido = true;

    } else if (!email.includes('@')) {
        emailInvalido = true

    } else if (!email.includes('.')) {
        emailInvalido = true;

    } else {
        emailInvalido = false;
    }

    if (emailInvalido) {
        span_email.innerHTML = "E-mail Inválido";

    } else {
        span_email.innerHTML = "";
    }
}

function analisarTelefone() {
    var telefone = input_telefone.value;

    if (telefone == '') {
        telefoneInvalido = true;

    } else if (telefone.length != 11 ) { // testarrrr ----------------------------------------------------------------------------
        telefoneInvalido = true;

    } else {
        telefoneInvalido = false;
    }

    if (telefoneInvalido) {
        span_telefone.innerHTML = "Telefone Inválido";

    } else {
        span_telefone.innerHTML = "";
    }
}

function analisarSenha() {
    var senha = input_senha.value;
    var senhaTam = true;
    var senhaNum = true;
    var senhaEsp = true;

    if (senha == '') {
        senhaInvalido = true;

    } else if (senha.length < 8) {
        senhaTam = true;
    }

    for (var i = 0; i < listaNum.length; i++) {
        if (senha.includes(listaNum[i])) {
            span_num.innerHTML = "De"
        }
    }

    for (var i = 0; i < listaEsp.length; i++) {
        if (senha.includes(listaEsp[i])) {
            senhaEsp = false;
        }
    }

    if (senhaTam && senhaEsp && senhaNum) {
        senhaInvalido
    }
}
</script>